{"version":3,"sources":["Joke.js","List.js","App.js","index.js"],"names":["Joke","votes","this","props","react_default","a","createElement","className","onClick","upVote","style","borderColor","getColor","downVote","text","getEmoji","Component","List","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","jokes","JSON","parse","window","localStorage","getItem","loading","seenJokes","Set","map","j","id","console","log","handleClick","bind","assertThisInitialized","length","getJokes","axios","get","headers","Accept","res","newJoke","data","_this2","has","add","push","joke","setState","st","concat","toConsumableArray","setItem","stringify","alert","_context2","t1","delta","_this3","objectSpread","_this4","sort","b","alt","src","Joke_Joke","handleVote","defaultProps","numJokesToGet","App","List_List","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.e5339635.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Joke.css';\n\nexport default class Joke extends Component {\n  getColor() {\n    const { votes } = this.props;\n    if (votes >= 15) {\n      return '#4CAF50';\n    } else if (votes >= 12) {\n      return '#8BC34A';\n    } else if (votes >= 9) {\n      return '#CDDC39';\n    } else if (votes >= 6) {\n      return '#FFEB3B';\n    } else if (votes >= 3) {\n      return '#FFC107';\n    } else if (votes >= 0) {\n      return '#FF9800';\n    } else {\n      return '#f44336';\n    }\n  }\n\n  getEmoji() {\n    const { votes } = this.props;\n    if (votes >= 15) {\n      return 'em em-rolling_on_the_floor_laughing';\n    } else if (votes >= 12) {\n      return 'em em-laughing';\n    } else if (votes >= 9) {\n      return 'em em-smiley';\n    } else if (votes >= 6) {\n      return 'em em-slightly_smiling_face';\n    } else if (votes >= 3) {\n      return 'em em-neutral_face';\n    } else if (votes >= 0) {\n      return 'em em-confused';\n    } else {\n      return 'em em-angry';\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Joke\">\n        <div className=\"Joke-buttons\">\n          <i className=\"fas fa-arrow-up\" onClick={this.props.upVote} />\n          <span style={{ borderColor: this.getColor() }} className=\"Joke-votes\">\n            {this.props.votes}\n          </span>\n          <i className=\"fas fa-arrow-down\" onClick={this.props.downVote} />\n        </div>\n        <div className=\"Joke-text\">{this.props.text}</div>\n        <div className=\"Joke-smiley\">\n          <i className={this.getEmoji()} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Joke from './Joke';\nimport './List.css';\n\nconst BASE_URL = 'https://icanhazdadjoke.com/';\n\nexport default class List extends Component {\n  static defaultProps = {\n    numJokesToGet: 10\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      jokes: JSON.parse(window.localStorage.getItem('jokes') || '[]'),\n      loading: false\n    };\n    this.seenJokes = new Set(this.state.jokes.map(j => j.id));\n    console.log('from constructor', this.seenJokes);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.jokes.length === 0) this.getJokes();\n  }\n\n  async getJokes() {\n    try {\n      let jokes = [];\n      while (jokes.length < 2) {\n        let res = await axios.get(BASE_URL, {\n          headers: { Accept: 'application/json' }\n        });\n\n        let newJoke = res.data;\n\n        let isUnique = this.seenJokes.has(newJoke.id);\n\n        if (!isUnique) {\n          this.seenJokes.add(newJoke.id);\n\n          jokes.push({ text: newJoke.joke, id: newJoke.id, votes: 0 });\n          // console.log(this.state.jokes);\n          // console.log('from getJokes()', this.seenJokes);\n          // console.log(this.state.jokes);\n          //this code always runs for some reason - problem in this code ^^^\n        } else {\n          console.log('FOUND A DUPLICATE');\n          console.log(newJoke);\n          //never reaches this code for some reason\n        }\n\n        this.setState(\n          st => ({\n            loading: false,\n            jokes: [...st.jokes, ...jokes]\n          }),\n          () =>\n            window.localStorage.setItem(\n              'jokes',\n              JSON.stringify(this.state.jokes)\n            )\n        );\n      }\n    } catch (e) {\n      alert(e);\n      this.setState({ loading: false });\n    }\n  }\n\n  handleVote(id, delta) {\n    this.setState(\n      st => ({\n        jokes: st.jokes.map(j =>\n          j.id === id ? { ...j, votes: j.votes + delta } : j\n        )\n      }),\n      () =>\n        window.localStorage.setItem('jokes', JSON.stringify(this.state.jokes))\n    );\n  }\n\n  handleClick() {\n    this.setState({ loading: true }, this.getJokes);\n    // console.log(this.state.jokes);\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"JokeList-spinner\">\n          <i className=\"far fa-8x fa-laugh fa-spin\" />\n          <h1 className=\"JokeList-title\">Loading...</h1>\n        </div>\n      );\n    }\n\n    let jokes = this.state.jokes.sort((a, b) => b.votes - a.votes);\n\n    return (\n      <div className=\"JokeList\">\n        <div className=\"JokeList-sidebar\">\n          <h1 className=\"JokeList-title\">\n            <span>Dad</span> Jokes\n          </h1>\n          <img\n            alt=\"icons\"\n            src=\"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg\"\n          />\n          <button onClick={this.handleClick} className=\"JokeList-getmore\">\n            Fetch Jokes\n          </button>\n        </div>\n        <div className=\"JokeList-jokes\">\n          {jokes.map(j => (\n            <Joke\n              upVote={() => this.handleVote(j.id, 1)}\n              downVote={() => this.handleVote(j.id, -1)}\n              votes={j.votes}\n              text={j.text}\n              jokes={this.state.jokes}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport List from './List';\nimport './App.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <List />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}